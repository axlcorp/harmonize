# ~/.config/starship.toml
add_newline = true

format = """$username$hostname$custom$directory$git_branch$git_status$cmd_duration
$character"""

[username]
show_always = true
format = "[$user]($style) "
style_user = "bold cyan"
style_root = "bold red"

[hostname]
ssh_only = false
format = "on [$hostname]($style) "
style = "bold yellow"

# --- Context Badges (custom.*) ---
[custom.role]
when = """ test -n "$ROLE_NAME" """
style = "bold white"
format = "[ROLE:$output]($style) "
command = "printf \"%s\" \"$ROLE_NAME\""

[custom.ssh]
when = """ test -n "$SSH_CONNECTION" """
style = "bold blue"
format = "[SSH]($style) "
command = "printf SSH"

[custom.container]
when = """ test -n "$IN_CONTAINER" """
style = "bold magenta"
format = "[CT]($style) "
command = "printf CT"

[custom.docker]
when = """ command -v docker >/dev/null 2>&1 && docker context show >/dev/null 2>&1 """
style = "bold cyan"
format = "[DOCKER:$output]($style) "
command = "docker context show 2>/dev/null | head -n1"

[custom.k8s]
when = """ command -v kubectl >/dev/null 2>&1 && kubectl config current-context >/dev/null 2>&1 """
style = "bold green"
format = "[K8S:$output]($style) "
command = "kubectl config current-context 2>/dev/null | head -n1"

[directory]
truncation_length = 4
truncate_to_repo = true
format = "in [$path]($style) "
style = "bold green"

[git_branch]
format = "[$symbol$branch]($style) "
symbol = " "
style = "bold purple"

[git_status]
format = "[$all_status$ahead_behind]($style) "
style = "bold purple"

[cmd_duration]
min_time = 500
format = "took [$duration]($style) "
style = "bold white"

[character]
success_symbol = "[❯](bold green)"
error_symbol = "[❯](bold red)"
